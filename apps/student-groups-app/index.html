<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Groups - Canvas LMS</title>
    <link rel="stylesheet" href="./src/tokens/index.css" />
    <link rel="stylesheet" href="./src/tokens/theme.css" />
    <link rel="stylesheet" href="./src/tokens/tokens.css" />
    <style>
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* Ensure footer sticks to bottom */
      html,
      body {
        height: 100%;
        margin: 0;
      }

      body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      ds-container {
        flex: 1;
      }

      /* Drag and drop styling */
      .draggable-student {
        user-select: none;
      }

      .draggable-student:hover {
        transform: translateY(-1px);
      }

      .draggable-student.dragging {
        opacity: 0.5;
      }

      .drop-zone.drag-over {
        border-color: var(--color-primary-main) !important;
        background: var(--color-primary-surface) !important;
        border-style: solid !important;
      }

      .student-badge ds-badge {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <ds-hero
      title="Student Groups Management"
      description="View and manage student group assignments in Canvas LMS"
      align="center"
      size="md"
    ></ds-hero>

    <ds-container>
      <ds-stack gap="6">
        <ds-card>
          <ds-card-header
            title="Course Selection"
            meta="Select a Canvas course to load student groups"
          ></ds-card-header>
          <ds-card-content>
            <ds-inline gap="4" align="end">
              <ds-select
                id="course-select"
                label="Select Course"
                placeholder="Loading courses..."
                full-width
                style="flex: 1"
              ></ds-select>
              <ds-button id="load-course-btn" variant="primary">
                Load Groups
              </ds-button>
            </ds-inline>
          </ds-card-content>
        </ds-card>

        <ds-card id="group-categories-card" style="display: none">
          <ds-card-header
            id="course-card-header"
            title="Group Categories"
            meta="Select a course above to load student group assignments"
          >
            <ds-button
              slot="stats"
              id="add-category-btn"
              size="sm"
              variant="primary"
              style="display: none"
            >
              + Add Category
            </ds-button>
            <div
              slot="stats"
              id="selection-status"
              style="
                font-size: var(--text-sm);
                color: var(--color-text-secondary);
                display: none;
              "
            ></div>
          </ds-card-header>

          <ds-card-content>
            <!-- Category Radio Group -->
            <ds-radio-group
              id="category-radio-group"
              name="category"
              style="display: none"
            ></ds-radio-group>
          </ds-card-content>
        </ds-card>

        <!-- Category Content Container (Groups display) -->
        <div id="category-content" style="display: none">
          <!-- Category-specific content will be dynamically inserted here -->
        </div>

        <!-- Groups Overview Table (appears after Apply Selection) -->
        <div id="groups-overview">
          <!-- Table will be dynamically inserted here -->
        </div>
      </ds-stack>
    </ds-container>

    <ds-footer
      align="center"
      copyright="Â© 2025 Student Groups Management"
      variant="default"
    >
      <span slot="links">Canvas LMS Integration</span>
    </ds-footer>

    <script type="module" src="./src/main.jsx"></script>
  </body>
</html>
