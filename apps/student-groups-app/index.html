<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Groups - Canvas LMS</title>
    <link rel="stylesheet" href="./src/tokens/index.css" />
    <link rel="stylesheet" href="./src/tokens/theme.css" />
    <link rel="stylesheet" href="./src/tokens/tokens.css" />
    <style>
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* Ensure footer sticks to bottom */
      html,
      body {
        height: 100%;
        margin: 0;
      }

      body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      ds-container {
        flex: 1;
      }

      /* Drag and drop styling */
      .draggable-student {
        user-select: none;
      }

      .draggable-student:hover {
        transform: translateY(-1px);
      }

      .draggable-student.dragging {
        opacity: 0.5;
      }

      .drop-zone.drag-over {
        border-color: var(--color-primary-main) !important;
        background: var(--color-primary-surface) !important;
        border-style: solid !important;
      }

      .student-badge ds-badge {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <!-- Main Application Layout -->
    <div
      style="display: grid; grid-template-columns: 200px 1fr; min-height: 100vh"
    >
      <!-- Left Sidebar Menu -->
      <aside
        style="
          border-right: 1px solid var(--color-border);
          background: var(--color-surface-secondary);
        "
      >
        <ds-sidebar-menu id="sidebar-menu"></ds-sidebar-menu>
        <!-- Fallback content if component doesn't render -->
        <div
          id="sidebar-fallback"
          style="
            padding: var(--space-4);
            color: var(--color-text-secondary);
            font-size: var(--text-sm);
          "
        >
          Sidebar menu loading...
        </div>
      </aside>

      <!-- Main Content Area -->
      <main
        style="
          overflow-y: auto;
          background: var(--color-surface);
          display: flex;
          flex-direction: column;
          min-height: 100vh;
        "
      >
        <ds-container
          padding="false"
          center="false"
          size="fluid"
          style="margin-left: 0; margin-right: 0; flex: 1"
        >
          <div
            style="
              display: grid;
              grid-template-columns: 700px 1fr;
              gap: var(--space-6);
              padding: var(--space-6);
            "
          >
            <!-- Left Column -->
            <ds-stack gap="6">
              <ds-card id="group-categories-card" style="display: none">
                <ds-card-header
                  id="course-card-header"
                  title="Group Categories"
                  meta="Select a course above to load student group assignments"
                >
                  <ds-button
                    slot="stats"
                    id="add-category-btn"
                    size="sm"
                    variant="primary"
                    style="display: none"
                  >
                    + Add Category
                  </ds-button>
                  <div
                    slot="stats"
                    id="selection-status"
                    style="
                      font-size: var(--text-sm);
                      color: var(--color-text-secondary);
                      display: none;
                    "
                  ></div>
                </ds-card-header>

                <ds-card-content>
                  <!-- Category Radio Group -->
                  <ds-radio-group
                    id="category-radio-group"
                    name="category"
                    style="display: none"
                  ></ds-radio-group>
                </ds-card-content>
              </ds-card>

              <!-- Category Content Container (Groups display) -->
              <div id="category-content" style="display: none">
                <!-- Category-specific content will be dynamically inserted here -->
              </div>
            </ds-stack>

            <!-- Right Column -->
            <div>
              <!-- Groups Overview Table (appears after Apply Selection) -->
              <div id="groups-overview">
                <!-- Table will be dynamically inserted here -->
              </div>
            </div>
          </div>
        </ds-container>

        <ds-footer
          align="center"
          copyright="Â© 2025 Student Groups Management"
          variant="default"
        >
          <span slot="links">Canvas LMS Integration</span>
        </ds-footer>
      </main>
    </div>

    <script type="module" src="./src/main.jsx"></script>
  </body>
</html>
